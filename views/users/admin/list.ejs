<div class="container py-4">
    <%- include("../../partials/filsDArianeUsers.ejs") %>
</div>

<div class="">
    <%- include("../../partials/btnAjout") %>
        <div class="form-section bg-white">
            <div class="form-section-header border-info">
                <h3 class="fw-bold text-primary">
                    <i class="bi bi-people fs-1 me-2"></i>Liste des étudiants
                </h3>
            </div>

            <table class="table table-borderless table-hover table-responsive text-center border-0 shadow p-5">
                <thead class="bg-dark text-white">
                    <tr>
                        <th>Identifiant</th>
                        <th>Prenom et nom</th>
                        <th>Sexe</th>
                        <th>Date de naissance</th>
                        <th>Adresse</th>
                        <th>Téléphone</th>
                        <th>Email</th>
                        <th>Poste</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% admins.forEach(admin=> { %>
                        <tr>
                            <td>
                                <%= admin.identifiant %>
                            </td>
                            <td>
                                <%= admin.prenom %>
                                    <%= admin.nom %>
                            </td>
                            <td>
                                <%= admin.sexe %>
                            </td>
                            <td>
                                <%= admin.dateNaissance.toLocaleDateString("fr-FR") %>
                            </td>
                            <td>
                                <%= admin.adresse %>
                            </td>
                            <td>
                                <%= admin.telephone %>
                            </td>
                            <td>
                                <%= admin.email %>
                            </td>
                            <td>
                                <%= admin.poste %>
                            </td>
                            
                            <td>
                                <a href="/users/admin/view/<%= admin.identifiant %>"
                                    class="badge bg-primary-subtle text-primary rounded-3 px-1 py-1">
                                    <i class="bi bi-eye fs-4"></i>
                                </a>
                                <a href="/users/admin/edit/<%= admin.identifiant %>"
                                    class="badge bg-warning-subtle text-warning rounded-3 px-1 py-1">
                                    <i class="bi bi-pen fs-4"></i>
                                </a>
                                <a action="/demandes/admin/delete/<%=admin.identifiant %> " method="POST"
                                    class="badge bg-danger-subtle text-danger rounded-3 px-1 py-1">
                                    <button class="bi bi-trash fs-4 text-danger bg-danger-subtle" data-bs-toggle="modal"
                                        data-bs-target="#deleteModal-<%= admin.identifiant %>">  </button>
    
                                    <div class="modal fade" id="deleteModal-<%= admin.identifiant %>" tabindex="-1"
                                        aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered">
                                            <div class="modal-content">
                                                <div class="modal-header bg-danger text-white">
                                                    <h5 class="modal-title">Confirmation de suppression</h5>
                                                    <button type="button" class="btn-close btn-close-white text-primary"
                                                        data-bs-dismiss="modal"></button>
                                                </div>
                                                <div class="modal-body">
                                                    <p>Voulez-vous vraiment supprimer l'admin <strong>
                                                            <%= admin.identifiant %>
                                                        </strong> ?</p>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="reset" class="btn btn-primary border-0"
                                                        data-bs-dismiss="modal">Annuler</button>
                                                    <form
                                                        action="/users/admin/delete/<%= admin.identifiant %>"
                                                        method="POST">
                                                        <button type="submit" class="btn btn-danger">Supprimer</button>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                               </a>
                            </td>
                        </tr>
                        <% }) %>
                </tbody>
            </table>
        </div>
</div>