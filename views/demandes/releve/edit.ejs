<div class="container-fluid py-4">

    <%- include("../../partials/filsDAriane.ejs") %>
</div>
<form class="bg-white px-4 py-4" method="POST" action="/demandes/edit/releve/<%= releve.identifiant %>">
    <div class="row g-3">
        <div class="form-section-header border-info d-flex justify-content-between">
            <div class="">
                <h3 class="fw-bold text-primary">
                    <i class="bi bi-mortarboard-fill fs-1 me-2"></i>Informations sur l'étudiant
                </h3>
            </div>
            <%- include("../../partials/btnEdit.ejs") %>
        </div>

        <!-- Civilité -->
        <div class="col-md-2">
            <label class="form-label fw-semibold">Civilité</label>
            <select name="civilite" class="form-select shadow-sm" required>
                <option value="" disabled>Choisir</option>
                <option value="M." <%=releve.civilite==="M." ? "selected" : "" %>>M.</option>
                <option value="Mme" <%=releve.civilite==="Mme" ? "selected" : "" %>>Mme</option>
                <option value="Mlle" <%=releve.civilite==="Mlle" ? "selected" : "" %>>Mlle</option>
            </select>
        </div>

        <!-- Nom -->
        <div class="col-md-3">
            <label class="form-label fw-semibold">Nom</label>
            <input type="text" name="nom" class="form-control shadow-sm" required value="<%= releve.nom %>">
        </div>

        <!-- Prénom -->
        <div class="col-md-3">
            <label class="form-label fw-semibold">Prénom</label>
            <input type="text" name="prenom" class="form-control shadow-sm" required value="<%= releve.prenom %>">
        </div>

        <!-- Filière -->
        <div class="col-md-2">
            <label class="form-label fw-semibold">Filière</label>
            <input type="text" name="filiere" class="form-control shadow-sm" required value="<%= releve.filiere %>">
        </div>

        <!-- Niveau -->
        <div class="col-md-2">
            <label class="form-label fw-semibold">Niveau</label>
            <input type="text" name="niveau" class="form-control shadow-sm" required value="<%= releve.niveau %>">
        </div>

        <!-- Promotion -->
        <div class="col-md-2">
            <label class="form-label fw-semibold">Promotion</label>
            <input type="number" name="promotion" class="form-control shadow-sm" required
                value="<%= releve.promotion %>">
        </div>
        <!-- Email -->
        <div class="col-md-4">
            <label class="form-label fw-semibold">Email</label>
            <input type="email" name="email" class="form-control shadow-sm" required value="<%= releve.email %>">
        </div>

        <!-- Matricule -->
        <div class="col-md-4">
            <label class="form-label fw-semibold">Matricule</label>
            <input type="text" name="matricule" class="form-control shadow-sm" required value="<%= releve.matricule %>">
        </div>
    </div>

    <hr class="mx-4">

    <div class="form-section bg-white">
        <div class="form-section-header border-info">
            <h3 class="fw-bold text-primary">
                <i class="bi bi-award fs-1 me-2"></i>Informations sur le relevé
            </h3>
        </div>

        <div class="row">
            <!-- Semestre -->
            <div class="mb-4">
                <p class="fw-semibold mb-3">Sélectionnez les semestres souhaités :</p>
                <div class="row g-3">
                    <!-- Licence 1 -->
                    <div class="col-md-3 col-6">
                        <div class="border rounded p-3 h-100">
                            <h6 class="fw-bold text-center mb-3">Licence 1</h6>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="semestre" value="S1"
                                    id="releveL1S1" <%=releve.semestre.includes("S1") ? "checked" : "" %>>
                                <label class="form-check-label" for="releveL1S1">Semestre 1</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="semestre" value="S2"
                                    id="releveL1S2" <%=releve.semestre.includes("S2") ? "checked" : "" %>>
                                <label class="form-check-label" for="releveL1S2">Semestre 2</label>
                            </div>
                        </div>
                    </div>

                    <!-- Licence 2 -->
                    <div class="col-md-3 col-6">
                        <div class="border rounded p-3 h-100">
                            <h6 class="fw-bold text-center mb-3">Licence 2</h6>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="semestre" value="S3"
                                    id="releveL2S1" <%=releve.semestre.includes("S3") ? "checked" : "" %>>
                                <label class="form-check-label" for="releveL2S1">Semestre 3</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="semestre" value="S4"
                                    id="releveL2S2" <%=releve.semestre.includes("S4") ? "checked" : "" %>>
                                <label class="form-check-label" for="releveL2S2">Semestre 4</label>
                            </div>
                        </div>
                    </div>

                    <!-- Licence 3 -->
                    <div class="col-md-3 col-6">
                        <div class="border rounded p-3 h-100">
                            <h6 class="fw-bold text-center mb-3">Licence 3</h6>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="semestre" value="S5"
                                    id="releveL3S1" <%=releve.semestre.includes("S5") ? "checked" : "" %>>
                                <label class="form-check-label" for="releveL3S1">Semestre 5</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="semestre" value="S6"
                                    id="releveL3S2" <%=releve.semestre.includes("S6") ? "checked" : "" %>>
                                <label class="form-check-label" for="releveL3S2">Semestre 6</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statut -->
            <div class="col-md-6">
                <label class="form-label fw-semibold">Statut</label>
                <select class="form-select" name="statut">
                    <option value="En attente" <%=releve.statut==="En attente" ? "selected" : "" %>>En attente</option>
                    <option value="validee" <%=releve.statut==="validee" ? "selected" : "" %>>Validée</option>
                    <option value="rejetee" <%=releve.statut==="rejetee" ? "selected" : "" %>>Rejetée</option>
                </select>
            </div>
        </div>
    </div>
</form>